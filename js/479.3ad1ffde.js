"use strict";(self["webpackChunkvue_event"]=self["webpackChunkvue_event"]||[]).push([[479],{4479:function(e,s,r){r.r(s),r.d(s,{default:function(){return o}});var t=function(){var e=this,s=e._self._c;return s("div",[s("el-card",{staticClass:"box-card"},[s("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[s("span",[e._v("基本资料")])]),s("el-form",{ref:"userFormRef",staticClass:"demo-userForm",attrs:{model:e.userForm,rules:e.userFormRules,"label-width":"100px"}},[s("el-form-item",{attrs:{label:"登录名称",prop:"username"}},[s("el-input",{attrs:{disabled:""},model:{value:e.userForm.username,callback:function(s){e.$set(e.userForm,"username",s)},expression:"userForm.username"}})],1),s("el-form-item",{attrs:{label:"用户昵称",prop:"nickname"}},[s("el-input",{model:{value:e.userForm.nickname,callback:function(s){e.$set(e.userForm,"nickname",s)},expression:"userForm.nickname"}})],1),s("el-form-item",{attrs:{label:"用户邮箱",prop:"email"}},[s("el-input",{model:{value:e.userForm.email,callback:function(s){e.$set(e.userForm,"email",s)},expression:"userForm.email"}})],1),s("el-form-item",{attrs:{size:"large"}},[s("el-button",{attrs:{type:"primary"},on:{click:e.submitFn}},[e._v("提交修改")]),s("el-button",{on:{click:e.reseFn}},[e._v("重置")])],1)],1)],1)],1)},a=[],i=r(7877),u={name:"my-userinfo",data(){return{userForm:{username:this.$store.state.userInfo.username,nickname:"",email:""},userFormRules:{nickname:[{required:!0,message:"请输入用户昵称",trigger:"blur"},{pattern:/^\S{1,10}$/,message:"昵称必须是1-10位的非空字符串",trigger:"blur"}],email:[{required:!0,message:"请输入邮箱地址",trigger:"blur"},{type:"email",message:"请输入正确的邮箱地址",trigger:["blur","change"]}]}}},methods:{submitFn(){this.$refs.userFormRef.validate((async e=>{if(!e)return!1;{this.userForm.id=this.$store.state.userInfo.id;const{data:e}=await(0,i.cZ)(this.userForm);if(0!==e.code)return this.$message.error(e.message);this.$message.success({message:`${e.message}`,duration:2e3,customClass:"windthClass",onClose:()=>{this.$refs.userFormRef.resetFields()}}),this.$store.dispatch("getUserInfoActions")}}))},reseFn(){this.$refs.userFormRef.resetFields()}}},l=u,m=r(1001),n=(0,m.Z)(l,t,a,!1,null,"b283fb22",null),o=n.exports}}]);
//# sourceMappingURL=479.3ad1ffde.js.map